findAZBApplyCIReturnList=SELECT T.NAR_ID AS NAR_ID,T.APPLY_USER AS APPLY_USER,T.APPLY_DATE AS APPLY_DATE,T.CONFIRM_DATE AS CONFIRM_DATE,T.APPLY_STATE AS APPLY_STATE,T.CONFIRM_STATE AS CONFIRM_STATE,T.PROVINCE_ID AS PROVINCE_ID,T.WELFARE_ID AS WELFARE_ID,T.WELFARE_NAME_CN AS WELFARE_NAME_CN,T.NAME AS NAME,T.SEX AS SEX,T.BIRTHDAY AS BIRTHDAY,T.CHILD_TYPE AS CHILD_TYPE,T.SN_TYPE AS SN_TYPE FROM (select are.NAR_ID,are.APPLY_USER,are.APPLY_DATE,are.CONFIRM_DATE,are.APPLY_STATE,are.CONFIRM_STATE,ci.PROVINCE_ID,ci.WELFARE_ID,ci.WELFARE_NAME_CN,ci.NAME,ci.SEX,ci.BIRTHDAY,ci.CHILD_TYPE,ci.SN_TYPE from NCM_ARCH_REVOCATION are left join CMS_CI_INFO ci on ci.CI_ID=are.CI_ID) T WHERE 1=1 {$0} AND PROVINCE_ID='{0}' {/$0} {$1} AND WELFARE_ID='{1}' {/$1} {$2} AND NAME LIKE '%{2}%' {/$2} {$3} AND SEX='{3}' {/$3} {$4} AND BIRTHDAY>=to_date('{4}','yyyy-MM-dd hh\:mi\:ss') {/$4} {$5} AND BIRTHDAY<=to_date('{5}','yyyy-MM-dd hh\:mi\:ss') {/$5} {$6} AND CHILD_TYPE='{6}' {/$6} {$7} AND SN_TYPE='{7}' {/$7} {$8} AND APPLY_USER LIKE '%{8}%' {/$8} {$9} AND APPLY_DATE>=to_date('{9}','yyyy-MM-dd hh\:mi\:ss') {/$9} {$10} AND APPLY_DATE<=to_date('{10}','yyyy-MM-dd hh\:mi\:ss') {/$10} {$11} AND CONFIRM_DATE>=to_date('{11}','yyyy-MM-dd hh\:mi\:ss') {/$11} {$12} AND CONFIRM_DATE<=to_date('{12}','yyyy-MM-dd hh\:mi\:ss') {/$12} {$13} AND APPLY_STATE='{13}' {/$13} {$14} AND CONFIRM_STATE='{14}' {/$14} {$15} ORDER BY {15} {/$15} {$16} {16} {/$16}

findAZBSelectDABCIList=SELECT T.CI_ID AS CI_ID,T.PROVINCE_ID AS PROVINCE_ID,T.WELFARE_ID AS WELFARE_ID,T.WELFARE_NAME_CN AS WELFARE_NAME_CN,T.NAME AS NAME,T.SEX AS SEX,T.BIRTHDAY AS BIRTHDAY,T.CHILD_TYPE AS CHILD_TYPE,T.SN_TYPE AS SN_TYPE,T.AF_ID AS AF_ID,T.TRANSFER_DATE AS TRANSFER_DATE,T.RECEIVER_DATE AS RECEIVER_DATE,T.TRANSFER_STATE AS TRANSFER_STATE FROM (select ci.CI_ID,ci.PROVINCE_ID,ci.WELFARE_ID,ci.WELFARE_NAME_CN,ci.NAME,ci.SEX,ci.BIRTHDAY,ci.CHILD_TYPE,ci.SN_TYPE,mi.AF_ID,A.TRANSFER_DATE,A.RECEIVER_DATE,A.TRANSFER_STATE from CMS_CI_INFO ci left join (select AF_ID,CI_ID from NCM_MATCH_INFO where MATCH_STATE<>'4' and MATCH_STATE<>'9') mi on mi.CI_ID=ci.CI_ID left join (select max(ti.TRANSFER_DATE) as TRANSFER_DATE,ti.RECEIVER_DATE,tid.APP_ID,tid.TRANSFER_STATE from TRANSFER_INFO_DETAIL tid left join TRANSFER_INFO ti on ti.TI_ID=tid.TI_ID where tid.TRANSFER_CODE='23' group by tid.APP_ID,ti.RECEIVER_DATE,tid.TRANSFER_STATE) A on A.APP_ID=ci.CI_ID) T WHERE 1=1 AND (TRANSFER_STATE='2' OR TRANSFER_STATE='3') {$0} AND PROVINCE_ID='{0}' {/$0} {$1} AND WELFARE_ID='{1}' {/$1} {$2} AND NAME LIKE '%{2}%' {/$2} {$3} AND SEX='{3}' {/$3} {$4} AND BIRTHDAY>=to_date('{4}','yyyy-MM-dd hh\:mi\:ss') {/$4} {$5} AND BIRTHDAY<=to_date('{5}','yyyy-MM-dd hh\:mi\:ss') {/$5} {$6} AND CHILD_TYPE='{6}' {/$6} {$7} AND SN_TYPE='{7}' {/$7} {$8} AND TRANSFER_DATE>=to_date('{8}','yyyy-MM-dd hh\:mi\:ss') {/$8} {$9} AND TRANSFER_DATE<=to_date('{9}','yyyy-MM-dd hh\:mi\:ss') {/$9} {$10} AND TRANSFER_DATE>=to_date('{10}','yyyy-MM-dd hh\:mi\:ss') {/$10} {$11} AND TRANSFER_DATE<=to_date('{11}','yyyy-MM-dd hh\:mi\:ss') {/$11} {$12} ORDER BY {12} {/$12} {$13} {13} {/$13}

findDABRevokeArchiveList=SELECT T.NAR_ID AS NAR_ID,T.CONFIRM_USER AS CONFIRM_USER,T.CONFIRM_DATE AS CONFIRM_DATE,T.APPLY_STATE AS APPLY_STATE,T.MI_ID AS MI_ID,T.SIGN_NO AS SIGN_NO,T.SIGN_DATE AS SIGN_DATE,T.CI_ID AS CI_ID,T.PROVINCE_ID AS PROVINCE_ID,T.WELFARE_ID AS WELFARE_ID,T.WELFARE_NAME_CN AS WELFARE_NAME_CN,T.NAME AS NAME,T.AF_ID AS AF_ID,T.FILE_NO AS FILE_NO,T.COUNTRY_CODE AS COUNTRY_CODE,T.ADOPT_ORG_ID AS ADOPT_ORG_ID,T.NAME_CN AS NAME_CN,T.MALE_NAME AS MALE_NAME,T.FEMALE_NAME AS FEMALE_NAME,T.ARCHIVE_ID AS ARCHIVE_ID,T.ARCHIVE_NO AS ARCHIVE_NO,T.ARCHIVE_STATE AS ARCHIVE_STATE FROM (select are.NAR_ID,are.CONFIRM_USER,are.CONFIRM_DATE,are.APPLY_STATE,mi.MI_ID,mi.SIGN_NO,mi.SIGN_DATE,ci.CI_ID,ci.PROVINCE_ID,ci.WELFARE_ID,ci.WELFARE_NAME_CN,ci.NAME,af.AF_ID,af.FILE_NO,af.COUNTRY_CODE,af.ADOPT_ORG_ID,af.NAME_CN,af.MALE_NAME,af.FEMALE_NAME,ai.ARCHIVE_ID,ai.ARCHIVE_NO,ai.ARCHIVE_STATE from NCM_ARCH_REVOCATION are left join (select MI_ID,AF_ID,CI_ID,SIGN_NO,SIGN_DATE from NCM_MATCH_INFO where MATCH_STATE<>'4' and MATCH_STATE<>'9') mi on mi.AF_ID=are.AF_ID and mi.CI_ID=are.CI_ID left join CMS_CI_INFO ci on ci.CI_ID=are.CI_ID left join FFS_AF_INFO af on af.AF_ID=are.AF_ID left join NCM_ARCHIVE_INFO ai on ai.CI_ID=are.CI_ID and ai.AF_ID=are.AF_ID) T WHERE 1=1 {$0} AND ARCHIVE_NO LIKE '%{0}%' {/$0} {$1} AND SIGN_NO LIKE '%{1}%' {/$1} {$2} AND SIGN_DATE>=to_date('{2}','yyyy-MM-dd hh\:mi\:ss') {/$2} {$3} AND SIGN_DATE<=to_date('{3}','yyyy-MM-dd hh\:mi\:ss') {/$3} {$4} AND PROVINCE_ID='{4}' {/$4} {$5} AND WELFARE_ID='{5}' {/$5} {$6} AND NAME LIKE '%{6}%' {/$6} {$7} AND FILE_NO LIKE '%{7}%' {/$7} {$8} AND COUNTRY_CODE='{8}' {/$8} {$9} AND ADOPT_ORG_ID='{9}' {/$9} {$10} AND MALE_NAME LIKE '%{10}%' {/$10} {$11} AND FEMALE_NAME LIKE '%{11}%' {/$11} {$12} AND ARCHIVE_STATE='{12}' {/$12} {$13} AND CONFIRM_USER LIKE '%{13}%' {/$13} {$14} AND CONFIRM_DATE>=to_date('{14}','yyyy-MM-dd hh\:mi\:ss') {/$14} {$15} AND CONFIRM_DATE<=to_date('{15}','yyyy-MM-dd hh\:mi\:ss') {/$15} {$16} AND APPLY_STATE='{16}' {/$16} {$17} ORDER BY {17} {/$17} {$18} {18} {/$18}

getNcmArchRevocation=select * from NCM_ARCH_REVOCATION where NAR_ID='{0}' 

getNcmArchiveInfo=select ARCHIVE_ID,ARCHIVE_STATE from NCM_ARCHIVE_INFO where MI_ID='{0}' and ARCHIVE_VALID='1'




